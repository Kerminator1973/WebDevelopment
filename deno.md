# Deno

Изучение особенностей продукта, который выступает в качестве более современной версии другого продукта, может дать ключ к пониманию ограничений оригинального продукта. Неудачи последователя, могут дать ключ к пониманию действительно сильных сторон оригинального продукта.

[Deno](https://deno.land/) рассматривается в качестве улучшенного runtime по сравнению c Node.js, что подтверждается тем фактом, что в число разработчиков Deno входит Ryan Dahl - человек, который входил в число основных разработчиков Node.js.

## Особенности Deno

Асинхронный Runtime для Deno (проект Tokyo) написан на **Rust**.

К ключевым свойствам относится поддержка **TypeScript** "из коробки". TypeScript поддерживает строгую типизацию (она не является обязательной), что позволяет значительно увеличить количество проверок кода на этапе разработки.

По умолчанию, у Deno **нет доступа к файловой системе** компьютера и многим другим ресурсам - права доступа нужно явно указывать при запуске приложения. Это позволяет лучше контролировать поведение тех частей приложения, которые были получены из вне и, возможно, не прошли жёсткий аудит.

Отсутствует менеджер пакетов (такой как npm). Можно явным образом указывать URL для загрузки нужного пакета, который будет кэшироваться runtime и при повторном запросе (например, из другого Deno-приложения) не будет закачиваться через интернет. В качестве альтернативы можно использовать файл "deps.ts" и управлять зависимостями вручную. Можно говорить о том, что **децентрализованное управление пакетами** является ключевой идеей Deno.

Использование **async/await** изначально встроено в runtime - использовать ключевое слово async не нужно.

У приложений Deno есть встроенный доступ к **Browser API**, в частности, к Fetch API.

## Сильные и слабые стороны

Поддержка модулей ES6 есть как у Deno, так у Node.js 14 (не работает в Windows 7).

Защита компьютера от чужих, включаемых модулей кажется суперважной особенностью Deno при разработке коммерческих приложений, в которых информационная безопасность является критичной. Приложения для Node.js больше похожи на "проходной двор", который необходимо контролировать средствами операционной системы.

Поскольку версии TypeScript жёстко привязана к версии Deno, сложно говорить о значительном преимуществе Deno, хотя поддержка TypeScript "из коробки" - возможность прекрасная. Вместе с тем, JavaScript развивается достаточно динамично.

Централизованное управление пакетами - потенциально опасный механизм ограничения сетевой инфраструктуры страны, попавшей под санкции. Т.к. npm принадлежит Microsoft, исключительно лояльной к политическим элитам страны регистрации, "падение облаков" следует рассматривать, как возможный негативный сценарий развития международных кризисов в будующем. Вместе с тем, кажется возможным запустить зеркала npm на территории страны, находящейся под санкциями. Кроме того, можно заморозить обновление пакетов на некоторый период времени, до появления приемлемых альтернатив. Использование репозитариев npm в штатном режиме, является очень удобным.

## Рекомендуется к прочтению

Louis Petrik: [Is Deno Already Dead?](https://medium.com/javascript-in-plain-english/is-deno-already-dead-661ce807338a)

Dan Halperin: [Top 5 Reasons Javascript Developers Prefer Deno Over Node](https://levelup.gitconnected.com/top-5-reasons-javascript-developers-prefer-deno-over-node-b1ff01734811).

## Октябрь 2024 года - вышел Release-кандидат Deno 2.0

Ключевая особенность Deno 2.0 - декларируется 100% совместимость с npm. При этом, в экосистеме Deno развивается свой собственный аналог npm - JSR, ключевой особенностью которого является 100% поддержка TypeScript "из коробки".

Разработчики Deno так же создали фреймворк для разработки web-приложений - FRESH. По своей сути он очень поход на React/Preact.

Deno 2.0, несомненно, шаг вперёд, но экосистема Deno всё ещё мало значимая и для ускорения существующих приложений более разумным кажется - [Bun.js](https://github.com/Kerminator1973/RUFServerLite/blob/main/docs/bun.md).
