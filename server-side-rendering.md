# Server-Side Rendering

Можно отменить следующие причины генерации HTML-разметки на сервере:

1. Технологическая сложность существенно ниже, чем при использовании [client-side rendering](client-side-rendering.md)
2. Инструментальные средства генерации HTML-верстки могут быть сложными, но это не потребует загрузки браузером дополнительных библиотек
3. Снижается нагрузка на браузер, который может работать на менее производительных компьютерах
4. Данные находятся в СУБД, максимально близко к серверу и это позволяет реализовывать более сложные алгоритмы выборки данных
5. Всё, что нужно для отображения документа может быть получено минимальным количеством запросов

Для генерации HTML-разметки используются данные (пары "ключ-значение") и шаблон страницы. Интрументальные средства предлагают определённый синтаксис, который позволяет не только указать место на странице для подстановки данных, но и использовать rendering по условию, циклы, локальные переменные, а так же partials (включения блоков верстки).

Ниже приведены примеры использования Express.js + Handlebars и ASP.NET Core 3 + Razor.

## Node.js + Handlebars

Официальная страница [Handlebars.js](https://www.npmjs.com/package/handlebars). Для интеграции Handlebars.js и Express.js, рекомендуется использовать модуль [hbs](https://www.npmjs.com/package/hbs).

Для активации rendering-а необходимо зарегистрировать движок как **view engine** и указать адрес подкаталога с шаблонами HTML-верстки:

```javascript
const app = express()
…
const viewsPath = path.join(__dirname, '../templates')
app.set('view engine', 'hbs')
app.set('views', viewsPath)
```

Вызов функции-рендеринга осуществляется следующим образом:

```javascript
app.get('', (req, res) => {
	res.render('index', {
		title: 'Rendered by Server',
		name: 'Kirill Kirin'
	})
})
```

Первый параметр функции res.**render**() позволяет указать имя шаблона (index.hbs). Второй параметр - список переменных, которые могут быть использованы в шаблоне.

Пример шаблона:

```hbs
<body>
  {{>header}}
  <h1>{{title}}</h1>
  <h3>Written by {{name}}</h3>
```
	

